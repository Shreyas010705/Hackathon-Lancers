<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gramin Bazaar - Crop Price Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-green-50 min-h-screen font-sans">
  <!-- Header -->
  <header class="bg-green-600 text-white py-4 shadow-md">
    <div class="container mx-auto px-4 flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&crop=faces&fit=crop&w=40&h=40" alt="Gramin Bazaar Logo" class="w-10 h-10 rounded-full">
        <h1 class="text-2xl font-bold" data-i18n="header.title">Gramin Bazaar</h1>
      </div>
      <div class="flex items-center space-x-4">
        <nav class="flex items-center space-x-4">
          <a href="#calculator" class="hover:text-green-200 transition" data-i18n="nav.calculator">Calculator</a>
          <a href="#about" class="hover:text-green-200 transition" data-i18n="nav.about">About</a>
          <a href="login.html" class="hover:text-green-200 transition" data-i18n="nav.login">Login</a>
        </nav>
        <select id="languageSelect" class="bg-green-700 text-white border-none rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-200">
          <option value="en">English</option>
          <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        </select>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    <!-- Description -->
    <section id="about" class="mb-12 text-center bg-cover bg-center py-12 rounded-xl" style="background-image: url('https://images.unsplash.com/photo-1500595046743-ff25572808a3?ixlib=rb-4.0.3&crop=faces&fit=crop&w=1200&h=400')">
      <div class="bg-white bg-opacity-80 p-6 rounded-lg max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-gray-800 mb-4" data-i18n="about.title">Welcome to Gramin Bazaar</h2>
        <p class="text-gray-600 mb-4" data-i18n="about.desc1">
          Gramin Bazaar is your trusted platform for accessing real-time crop price information across Karnataka. Designed with farmers in mind, our tool helps you calculate the value of your harvest based on the latest market rates, empowering you to make informed selling decisions.
        </p>
        <p class="text-gray-600" data-i18n="about.desc2">
          Whether you're a small-scale farmer or a large producer, our user-friendly calculator and AI-powered chatbot provide personalized insights and agricultural tips to maximize your profits. Explore Gramin Bazaar today and stay ahead in the agricultural market!
        </p>
      </div>
    </section>

    <!-- Crop Price Calculator -->
    <section id="calculator" class="bg-white rounded-2xl shadow-xl p-8 max-w-lg mx-auto relative">
      <div class="absolute top-0 left-0 -mt-6 -ml-6">
        <i class="fas fa-tractor text-4xl text-green-600 opacity-50"></i>
      </div>
      <h2 class="text-2xl font-bold text-center text-gray-800 mb-6" data-i18n="calculator.title">Crop Price Calculator</h2>

      <div id="loading" class="hidden flex justify-center mb-4">
        <svg class="animate-spin h-8 w-8 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24

">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"></path>
        </svg>
      </div>

      <div class="mb-4">
        <label for="districtSelect" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculator.district">Select District</label>
        <select id="districtSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-gray-50">
          <option value="" data-i18n="calculator.districtPlaceholder">Loading districts...</option>
        </select>
      </div>

      <div class="mb-4">
        <label for="commoditySelect" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculator.commodity">Select Commodity</label>
        <select id="commoditySelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-gray-50" disabled>
          <option value="" data-i18n="calculator.commodityPlaceholder">Select a district first</option>
        </select>
      </div>

      <div class="mb-4">
        <label for="priceTypeSelect" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculator.priceType">Price Type</label>
        <select id="priceTypeSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-gray-50">
          <option value="min" data-i18n="calculator.minPrice">Minimum Price (‚Çπ/Quintal)</option>
          <option value="max" data-i18n="calculator.maxPrice">Maximum Price (‚Çπ/Quintal)</option>
        </select>
      </div>

      <div class="mb-6">
        <label for="loadInput" class="block text-sm font-medium text-gray-700 mb-1" data-i18n="calculator.load">Enter Load (in kg)</label>
        <input type="number" id="loadInput" placeholder="e.g. 100" min="1" step="1" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-gray-50">
      </div>

      <button id="calcBtn" class="w-full bg-green-600 text-white font-semibold py-3 rounded-lg hover:bg-green-700 transition duration-200" data-i18n="calculator.calculate">Calculate Price</button>

      <div id="priceResult" class="mt-6 text-center text-lg font-semibold text-green-600"></div>
      <div id="errorMessage" class="mt-4 text-center text-red-600"></div>
    </section>
  </main>

  <!-- Floating Chatbot Button -->
  <button id="openChatbot" class="fixed bottom-6 right-6 bg-green-600 text-white rounded-full w-14 h-14 flex items-center justify-center text-2xl shadow-lg hover:bg-green-700 transition z-50">
    <i class="fas fa-robot"></i>
  </button>

  <!-- Chatbot Window -->
  <div id="chatbotContainer" class="fixed bottom-24 right-6 w-80 max-h-[500px] bg-white rounded-xl shadow-2xl hidden flex-col z-40">
    <div id="chatbotHeader" class="bg-green-600 text-white p-4 rounded-t-xl font-bold flex justify-between items-center">
      <span data-i18n="chatbot.title">Gramin Assistant</span>
      <button id="closeChatbot" class="text-white hover:text-gray-200">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div id="chatbotMessages" class="flex-1 p-4 bg-gray-100 overflow-y-auto"></div>
    <form id="chatbotForm" class="flex border-t border-gray-200">
      <input type="text" id="userInput" class="flex-1 p-3 border-none outline-none bg-gray-50" data-i18n-placeholder="chatbot.placeholder" placeholder="Ask about crop prices...">
      <button id="sendBtn" type="submit" class="bg-green-600 text-white p-3 hover:bg-green-700">
        <i class="fas fa-paper-plane"></i>
      </button>
    </form>
  </div>

  <script>
    // Translation Data
    const translations = {
      en: {
        'header.title': 'Gramin Bazaar',
        'nav.calculator': 'Calculator',
        'nav.about': 'About',
        'nav.login': 'Login',
        'about.title': 'Welcome to Gramin Bazaar',
        'about.desc1': 'Gramin Bazaar is your trusted platform for accessing real-time crop price information across Karnataka. Designed with farmers in mind, our tool helps you calculate the value of your harvest based on the latest market rates, empowering you to make informed selling decisions.',
        'about.desc2': 'Whether you‚Äôre a small-scale farmer or a large producer, our user-friendly calculator and AI-powered chatbot provide personalized insights and agricultural tips to maximize your profits. Explore Gramin Bazaar today and stay ahead in the agricultural market!',
        'calculator.title': 'Crop Price Calculator',
        'calculator.district': 'Select District',
        'calculator.districtPlaceholder': 'Loading districts...',
        'calculator.commodity': 'Select Commodity',
        'calculator.commodityPlaceholder': 'Select a district first',
        'calculator.priceType': 'Price Type',
        'calculator.minPrice': 'Minimum Price (‚Çπ/Quintal)',
        'calculator.maxPrice': 'Maximum Price (‚Çπ/Quintal)',
        'calculator.load': 'Enter Load (in kg)',
        'calculator.calculate': 'Calculate Price',
        'chatbot.title': 'Gramin Assistant',
        'chatbot.placeholder': 'Ask about crop prices...',
        'calculator.error': 'Failed to load districts. Please try again later.',
        'calculator.errorDistrict': 'Please select a district.',
        'calculator.errorCommodity': 'Please select a commodity.',
        'calculator.errorLoad': 'Please enter a valid load (kg).',
        'calculator.errorData': 'Price data not found for selected options.',
        'calculator.result': 'Estimated Price',
        'chatbot.pricePrompt': 'Please enter a crop name and date like: price wheat 2024-05-14',
        'chatbot.priceSuccess': '‚úÖ',
        'chatbot.priceError': '‚ùå No data for that crop/date.',
        'chatbot.crops': 'üåæ Available crops',
        'chatbot.dates': 'üìÖ Available dates',
        'chatbot.default': 'ü§ñ I can help with crop prices and tips. Try: price wheat 2024-05-14 or tips',
        'chatbot.error': '‚ö† Server error. Please try again.'
      },
      kn: {
        'header.title': '‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤¨‡≤ú‡≤æ‡≤∞‡≥ç',
        'nav.calculator': '‡≤ï‡≥ç‡≤Ø‡≤æ‡≤≤‡≥ç‡≤ï‡≥Å‡≤≤‡≥á‡≤ü‡≤∞‡≥ç',
        'nav.about': '‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü',
        'nav.login': '‡≤≤‡≤æ‡≤ó‡≤ø‡≤®‡≥ç',
        'about.title': '‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤¨‡≤ú‡≤æ‡≤∞‡≥ç‚Äå‡≤ó‡≥Ü ‡≤∏‡≥ç‡≤µ‡≤æ‡≤ó‡≤§',
        'about.desc1': '‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤¨‡≤ú‡≤æ‡≤∞‡≥ç ‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï‡≤¶‡≤æ‡≤¶‡≥ç‡≤Ø‡≤Ç‡≤§ ‡≤®‡≥à‡≤ú-‡≤∏‡≤Æ‡≤Ø‡≤¶ ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤¨‡≥Ü‡≤≤‡≥Ü ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≤°‡≥Ü‡≤Ø‡≤≤‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤µ‡≤ø‡≤∂‡≥ç‡≤µ‡≤æ‡≤∏‡≤æ‡≤∞‡≥ç‡≤π ‡≤µ‡≥á‡≤¶‡≤ø‡≤ï‡≥Ü‡≤Ø‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤∞‡≥à‡≤§‡≤∞‡≤ø‡≤ó‡≤æ‡≤ó‡≤ø ‡≤µ‡≤ø‡≤®‡≥ç‡≤Ø‡≤æ‡≤∏‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≤æ‡≤¶ ‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≤æ‡≤ß‡≤®‡≤µ‡≥Å ‡≤á‡≤§‡≥ç‡≤§‡≥Ä‡≤ö‡≤ø‡≤® ‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü ‡≤¶‡≤∞‡≤ó‡≤≥ ‡≤Ü‡≤ß‡≤æ‡≤∞‡≤¶ ‡≤Æ‡≥á‡≤≤‡≥Ü ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤ï‡≥ä‡≤Ø‡≤ø‡≤≤‡≤ø‡≤® ‡≤Æ‡≥å‡≤≤‡≥ç‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï‡≤æ‡≤ö‡≤æ‡≤∞ ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü, ‡≤á‡≤¶‡≥Å ‡≤®‡≤ø‡≤Æ‡≤ó‡≥Ü ‡≤§‡≤ø‡≤≥‡≤ø‡≤µ‡≤≥‡≤ø‡≤ï‡≥Ü‡≤Ø ‡≤Æ‡≤æ‡≤∞‡≤æ‡≤ü ‡≤®‡≤ø‡≤∞‡≥ç‡≤ß‡≤æ‡≤∞‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤≤‡≥Å ‡≤∏‡≤¨‡≤≤‡≥Ä‡≤ï‡≤∞‡≤£ ‡≤®‡≥Ä‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.',
        'about.desc2': '‡≤®‡≥Ä‡≤µ‡≥Å ‡≤∏‡≤£‡≥ç‡≤£-‡≤™‡≥ç‡≤∞‡≤Æ‡≤æ‡≤£‡≤¶ ‡≤∞‡≥à‡≤§‡≤∞‡≤æ‡≤ó‡≤ø‡≤∞‡≤≤‡≤ø ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤¶‡≥ä‡≤°‡≥ç‡≤° ‡≤â‡≤§‡≥ç‡≤™‡≤æ‡≤¶‡≤ï‡≤∞‡≤æ‡≤ó‡≤ø‡≤∞‡≤≤‡≤ø, ‡≤®‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≤≥‡≤ï‡≥Ü‡≤¶‡≤æ‡≤∞ ‡≤∏‡≥ç‡≤®‡≥á‡≤π‡≤ø ‡≤ï‡≥ç‡≤Ø‡≤æ‡≤≤‡≥ç‡≤ï‡≥Å‡≤≤‡≥á‡≤ü‡≤∞‡≥ç ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å AI-‡≤ö‡≤æ‡≤≤‡≤ø‡≤§ ‡≤ö‡≤æ‡≤ü‡≥ç‚Äå‡≤¨‡≤æ‡≤ü‡≥ç ‡≤µ‡≥à‡≤Ø‡≤ï‡≥ç‡≤§‡≤ø‡≤ï ‡≤í‡≤≥‡≤®‡≥ã‡≤ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ï‡≥É‡≤∑‡≤ø ‡≤∏‡≤≤‡≤π‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤í‡≤¶‡≤ó‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤µ‡≥Ü ‡≤Ü‡≤¶‡≤æ‡≤Ø‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤†‡≤ó‡≥ä‡≤≥‡≤ø‡≤∏‡≤≤‡≥Å. ‡≤á‡≤Ç‡≤¶‡≥Å ‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤¨‡≤ú‡≤æ‡≤∞‡≥ç ‡≤Ö‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤®‡≥ç‡≤µ‡≥á‡≤∑‡≤ø‡≤∏‡≤ø ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤ï‡≥É‡≤∑‡≤ø ‡≤Æ‡≤æ‡≤∞‡≥Å‡≤ï‡≤ü‡≥ç‡≤ü‡≥Ü‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤Ø‡≤ø‡≤∞‡≤ø!',
        'calculator.title': '‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤¨‡≥Ü‡≤≤‡≥Ü ‡≤ï‡≥ç‡≤Ø‡≤æ‡≤≤‡≥ç‡≤ï‡≥Å‡≤≤‡≥á‡≤ü‡≤∞‡≥ç',
        'calculator.district': '‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø',
        'calculator.districtPlaceholder': '‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≤æ‡≤ó‡≥Å‡≤§‡≥ç‡≤§‡≤ø‡≤¶‡≥Ü...',
        'calculator.commodity': '‡≤∏‡≤∞‡≤ï‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø',
        'calculator.commodityPlaceholder': '‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø',
        'calculator.priceType': '‡≤¨‡≥Ü‡≤≤‡≥Ü ‡≤™‡≥ç‡≤∞‡≤ï‡≤æ‡≤∞',
        'calculator.minPrice': '‡≤ï‡≤®‡≤ø‡≤∑‡≥ç‡≤† ‡≤¨‡≥Ü‡≤≤‡≥Ü (‚Çπ/‡≤ï‡≥ç‡≤µ‡≤ø‡≤Ç‡≤ü‡≤æ‡≤≤‡≥ç)',
        'calculator.maxPrice': '‡≤ó‡≤∞‡≤ø‡≤∑‡≥ç‡≤† ‡≤¨‡≥Ü‡≤≤‡≥Ü (‚Çπ/‡≤ï‡≥ç‡≤µ‡≤ø‡≤Ç‡≤ü‡≤æ‡≤≤‡≥ç)',
        'calculator.load': '‡≤≤‡≥ã‡≤°‡≥ç ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø (‡≤ï‡≥Ü‡≤ú‡≤ø‡≤Ø‡≤≤‡≥ç‡≤≤‡≤ø)',
        'calculator.calculate': '‡≤¨‡≥Ü‡≤≤‡≥Ü ‡≤≤‡≥Ü‡≤ï‡≥ç‡≤ï‡≤æ‡≤ö‡≤æ‡≤∞ ‡≤Æ‡≤æ‡≤°‡≤ø',
        'chatbot.title': '‡≤ó‡≥ç‡≤∞‡≤æ‡≤Æ‡≥Ä‡≤£ ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï',
        'chatbot.placeholder': '‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤¨‡≥Ü‡≤≤‡≥Ü‡≤ó‡≤≥ ‡≤¨‡≤ó‡≥ç‡≤ó‡≥Ü ‡≤ï‡≥á‡≤≥‡≤ø...',
        'calculator.error': '‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤µ‡≤ø‡≤´‡≤≤‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≤ø.',
        'calculator.errorDistrict': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.',
        'calculator.errorCommodity': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤∏‡≤∞‡≤ï‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.',
        'calculator.errorLoad': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤≤‡≥ã‡≤°‡≥ç (‡≤ï‡≥Ü‡≤ú‡≤ø) ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø.',
        'calculator.errorData': '‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø‡≤¶ ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤ó‡≤≥‡≤ø‡≤ó‡≥Ü ‡≤¨‡≥Ü‡≤≤‡≥Ü ‡≤°‡≥á‡≤ü‡≤æ ‡≤ï‡≤Ç‡≤°‡≥Å‡≤¨‡≤Ç‡≤¶‡≤ø‡≤≤‡≥ç‡≤≤.',
        'calculator.result': '‡≤Ö‡≤Ç‡≤¶‡≤æ‡≤ú‡≥Å ‡≤¨‡≥Ü‡≤≤‡≥Ü',
        'chatbot.pricePrompt': '‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤à ‡≤∞‡≥Ä‡≤§‡≤ø ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø: price wheat 2024-05-14',
        'chatbot.priceSuccess': '‚úÖ',
        'chatbot.priceError': '‚ùå ‡≤Ü ‡≤¨‡≥Ü‡≤≥‡≥Ü/‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï‡≤ï‡≥ç‡≤ï‡≥Ü ‡≤°‡≥á‡≤ü‡≤æ ‡≤á‡≤≤‡≥ç‡≤≤.',
        'chatbot.crops': 'üåæ ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≥Å',
        'chatbot.dates': 'üìÖ ‡≤≤‡≤≠‡≥ç‡≤Ø‡≤µ‡≤ø‡≤∞‡≥Å‡≤µ ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï‡≤ó‡≤≥‡≥Å',
        'chatbot.default': 'ü§ñ ‡≤®‡≤æ‡≤®‡≥Å ‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤¨‡≥Ü‡≤≤‡≥Ü‡≤ó‡≤≥‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤≤‡≤π‡≥Ü‡≤ó‡≤≥‡≥ä‡≤Ç‡≤¶‡≤ø‡≤ó‡≥Ü ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤¨‡≤π‡≥Å‡≤¶‡≥Å. ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≤ø: price wheat 2024-05-14 ‡≤Ö‡≤•‡≤µ‡≤æ tips',
        'chatbot.error': '‚ö† ‡≤∏‡≤∞‡≥ç‡≤µ‡≤∞‡≥ç ‡≤¶‡≥ã‡≤∑. ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Ü ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤ø‡≤∏‡≤ø.'
      },
      hi: {
        'header.title': '‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§¨‡§æ‡§ú‡§æ‡§∞',
        'nav.calculator': '‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞',
        'nav.about': '‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç',
        'nav.login': '‡§≤‡•â‡§ó‡§ø‡§®',
        'about.title': '‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à',
        'about.desc1': '‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡§∞‡•ç‡§®‡§æ‡§ü‡§ï ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡§Æ‡§Ø ‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§§‡§ï ‡§™‡§π‡•Å‡§Å‡§ö‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§Æ‡§Ç‡§ö ‡§π‡•à‡•§ ‡§ï‡§ø‡§∏‡§æ‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∞‡§ñ‡§ï‡§∞ ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ, ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§â‡§™‡§ï‡§∞‡§£ ‡§®‡§µ‡•Ä‡§®‡§§‡§Æ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§¶‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§Ü‡§™‡§ï‡•Ä ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§≤‡•á‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§∂‡§ï‡•ç‡§§‡§ø‡§ï‡§∞‡§£ ‡§Æ‡§ø‡§≤‡§§‡§æ ‡§π‡•à‡•§',
        'about.desc2': '‡§ö‡§æ‡§π‡•á ‡§Ü‡§™ ‡§õ‡•ã‡§ü‡•á ‡§™‡•à‡§Æ‡§æ‡§®‡•á ‡§ï‡•á ‡§ï‡§ø‡§∏‡§æ‡§® ‡§π‡•ã‡§Ç ‡§Ø‡§æ ‡§¨‡§°‡§º‡•á ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§ï, ‡§π‡§Æ‡§æ‡§∞‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ-‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞ ‡§î‡§∞ AI-‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ö‡•à‡§ü‡§¨‡•â‡§ü ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§Ö‡§Ç‡§§‡§∞‡•ç‡§¶‡•É‡§∑‡•ç‡§ü‡§ø ‡§î‡§∞ ‡§ï‡•É‡§∑‡§ø ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•Ä ‡§Ü‡§Ø ‡§ï‡•ã ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡•á‡•§ ‡§Ü‡§ú ‡§π‡•Ä ‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡§æ ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ï‡•É‡§∑‡§ø ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§Ü‡§ó‡•á ‡§∞‡§π‡•á‡§Ç!',
        'calculator.title': '‡§´‡§∏‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞',
        'calculator.district': '‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç',
        'calculator.districtPlaceholder': '‡§ú‡§ø‡§≤‡•á ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...',
        'calculator.commodity': '‡§µ‡§∏‡•ç‡§§‡•Å ‡§ö‡•Å‡§®‡•á‡§Ç',
        'calculator.commodityPlaceholder': '‡§™‡§π‡§≤‡•á ‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç',
        'calculator.priceType': '‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞',
        'calculator.minPrice': '‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø (‚Çπ/‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤)',
        'calculator.maxPrice': '‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø (‚Çπ/‡§ï‡•ç‡§µ‡§ø‡§Ç‡§ü‡§≤)',
        'calculator.load': '‡§≤‡•ã‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç (‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ ‡§Æ‡•á‡§Ç)',
        'calculator.calculate': '‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç',
        'chatbot.title': '‡§ó‡•ç‡§∞‡§æ‡§Æ‡•Ä‡§£ ‡§∏‡§π‡§æ‡§Ø‡§ï',
        'chatbot.placeholder': '‡§´‡§∏‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç...',
        'calculator.error': '‡§ú‡§ø‡§≤‡•á ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§',
        'calculator.errorDistrict': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§',
        'calculator.errorCommodity': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡§∏‡•ç‡§§‡•Å ‡§ö‡•Å‡§®‡•á‡§Ç‡•§',
        'calculator.errorLoad': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≤‡•ã‡§° (‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ) ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§',
        'calculator.errorData': '‡§ö‡§Ø‡§®‡§ø‡§§ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§',
        'calculator.result': '‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø',
        'chatbot.pricePrompt': '‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§∏‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§î‡§∞ ‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç: price wheat 2024-05-14',
        'chatbot.priceSuccess': '‚úÖ',
        'chatbot.priceError': '‚ùå ‡§â‡§∏ ‡§´‡§∏‡§≤/‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•ã‡§à ‡§°‡•á‡§ü‡§æ ‡§®‡§π‡•Ä‡§Ç‡•§',
        'chatbot.crops': 'üåæ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§´‡§∏‡§≤‡•á‡§Ç',
        'chatbot.dates': 'üìÖ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§§‡§æ‡§∞‡•Ä‡§ñ‡•á‡§Ç',
        'chatbot.default': 'ü§ñ ‡§Æ‡•à‡§Ç ‡§´‡§∏‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§∏‡•Å‡§ù‡§æ‡§µ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç: price wheat 2024-05-14 ‡§Ø‡§æ tips',
        'chatbot.error': '‚ö† ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§'
      }
    };

    // Language Switching Logic
    function updateLanguage(lang) {
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = translations[lang][key] || element.textContent;
      });
      document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = translations[lang][key] || element.placeholder;
      });
      document.documentElement.lang = lang;
    }

    const languageSelect = document.getElementById('languageSelect');
    languageSelect.addEventListener('change', (e) => {
      updateLanguage(e.target.value);
      localStorage.setItem('preferredLanguage', e.target.value);
    });

    // Load preferred language or default to English
    const savedLanguage = localStorage.getItem('preferredLanguage') || 'en';
    languageSelect.value = savedLanguage;
    updateLanguage(savedLanguage);

    // Calculator Logic
    const districtSelect = document.getElementById("districtSelect");
    const commoditySelect = document.getElementById("commoditySelect");
    const priceTypeSelect = document.getElementById("priceTypeSelect");
    const loadInput = document.getElementById("loadInput");
    const calcBtn = document.getElementById("calcBtn");
    const priceResult = document.getElementById("priceResult");
    const errorMessage = document.getElementById("errorMessage");
    const loading = document.getElementById("loading");

    let priceData = [];

    async function loadPriceData() {
      loading.classList.remove("hidden");
      errorMessage.textContent = "";
      try {
        const res = await fetch("http://localhost:3000/api/prices");
        if (!res.ok) throw new Error("Failed to fetch price data");
        priceData = await res.json();

        const districts = [...new Set(priceData.map(item => item.District))].sort();
        districtSelect.innerHTML = `<option value="" data-i18n="calculator.districtPlaceholder">${translations[savedLanguage]['calculator.districtPlaceholder']}</option>`;
        districts.forEach(d => {
          const opt = document.createElement("option");
          opt.value = d;
          opt.textContent = d;
          districtSelect.appendChild(opt);
        });
      } catch (err) {
        console.error("Failed to load price data:", err);
        errorMessage.textContent = translations[savedLanguage]['calculator.error'] || "Failed to load districts. Please try again later.";
        districtSelect.innerHTML = `<option value="">${translations[savedLanguage]['calculator.districtPlaceholder']}</option>`;
      } finally {
        loading.classList.add("hidden");
      }
    }

    districtSelect.addEventListener("change", () => {
      const selectedDistrict = districtSelect.value;
      commoditySelect.disabled = true;
      commoditySelect.innerHTML = `<option value="" data-i18n="calculator.commodityPlaceholder">${translations[savedLanguage]['calculator.commodityPlaceholder']}</option>`;
      priceResult.textContent = "";
      errorMessage.textContent = "";

      if (selectedDistrict) {
        const filteredCommodities = priceData
          .filter(item => item.District === selectedDistrict)
          .map(item => item.Commodity);

        const uniqueCommodities = [...new Set(filteredCommodities)].sort();
        uniqueCommodities.forEach(c => {
          const opt = document.createElement("option");
          opt.value = c;
          opt.textContent = c;
          commoditySelect.appendChild(opt);
        });
        commoditySelect.disabled = false;
      }
    });

    calcBtn.addEventListener("click", () => {
      const district = districtSelect.value;
      const commodity = commoditySelect.value;
      const priceType = priceTypeSelect.value;
      const load = parseFloat(loadInput.value);

      priceResult.textContent = "";
      errorMessage.textContent = "";

      if (!district) {
        errorMessage.textContent = translations[savedLanguage]['calculator.errorDistrict'] || "Please select a district.";
        return;
      }
      if (!commodity) {
        errorMessage.textContent = translations[savedLanguage]['calculator.errorCommodity'] || "Please select a commodity.";
        return;
      }
      if (isNaN(load) || load <= 0) {
        errorMessage.textContent = translations[savedLanguage]['calculator.errorLoad'] || "Please enter a valid load (kg).";
        return;
      }

      const entry = priceData.find(item => item.District === district && item.Commodity === commodity);
      if (!entry) {
        errorMessage.textContent = translations[savedLanguage]['calculator.errorData'] || "Price data not found for selected options.";
        return;
      }

      const unitPrice = (priceType === "min" ? entry.MinPrice : entry.MaxPrice) / 100;
      const totalPrice = unitPrice * load;
      priceResult.textContent = `${translations[savedLanguage]['calculator.result'] || 'Estimated Price'}: ‚Çπ${totalPrice.toFixed(2)} for ${load} kg`;
    });

    // Chatbot Logic
    const chatbotContainer = document.getElementById('chatbotContainer');
    const chatbotForm = document.getElementById('chatbotForm');
    const userInput = document.getElementById('userInput');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const openChatbot = document.getElementById('openChatbot');
    const closeChatbot = document.getElementById('closeChatbot');

    function appendMessage(sender, text) {
      const msg = document.createElement('div');
      msg.classList.add('message', sender, 'p-3', 'rounded-xl', 'mb-2', 'text-sm');
      msg.classList.add(sender === 'user' ? 'bg-blue-100 ml-auto' : 'bg-green-100 mr-auto');
      msg.textContent = text;
      chatbotMessages.appendChild(msg);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }

    openChatbot.addEventListener('click', () => {
      chatbotContainer.classList.toggle('hidden');
    });

    closeChatbot.addEventListener('click', () => {
      chatbotContainer.classList.add('hidden');
    });

    chatbotForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const userMessage = userInput.value.trim();
      if (!userMessage) return;

      appendMessage('user', userMessage);
      userInput.value = '';

      const lowerMessage = userMessage.toLowerCase();

      try {
        if (lowerMessage.includes('tip')) {
          const res = await fetch('http://localhost:3000/api/tips');
          const data = await res.json();
          data.tips.forEach(tip => appendMessage('bot', tip));
        } else if (lowerMessage.includes('price') || lowerMessage.includes('rate')) {
          appendMessage('bot', translations[savedLanguage]['chatbot.pricePrompt'] || 'Please enter a crop name and date like: price wheat 2024-05-14');
        } else if (lowerMessage.startsWith('price ')) {
          const parts = lowerMessage.split(' ');
          const crop = parts[1];
          const date = parts[2];

          const res = await fetch(`http://localhost:3000/api/get-price?date=${date}&crop=${crop}`);
          const data = await res.json();

          if (data.price_per_kg) {
            appendMessage('bot', `${translations[savedLanguage]['chatbot.priceSuccess'] || '‚úÖ'} ${crop} on ${date} was ‚Çπ${data.price_per_kg}/kg.`);
          } else {
            appendMessage('bot', translations[savedLanguage]['chatbot.priceError'] || '‚ùå No data for that crop/date.');
          }
        } else if (lowerMessage.includes('crops')) {
          const res = await fetch('http://localhost:3000/api/crops');
          const data = await res.json();
          appendMessage('bot', `${translations[savedLanguage]['chatbot.crops'] || 'üåæ Available crops'}: ${data.crops.join(', ')}`);
        } else if (lowerMessage.includes('date')) {
          const res = await fetch('http://localhost:3000/api/dates');
          const data = await res.json();
          appendMessage('bot', `${translations[savedLanguage]['chatbot.dates'] || 'üìÖ Available dates'}: ${data.dates.join(', ')}`);
        } else {
          appendMessage('bot', translations[savedLanguage]['chatbot.default'] || "ü§ñ I can help with crop prices and tips. Try: price wheat 2024-05-14 or tips");
        }
      } catch (error) {
        appendMessage('bot', translations[savedLanguage]['chatbot.error'] || '‚ö† Server error. Please try again.');
      }
    });

    loadPriceData();
  </script>
</body>
</html>